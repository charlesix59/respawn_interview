# 加密算法
## 非对称加密算法
### SSH（SSL）
HTTPs使用SSH算法加密，那么SSH是如何运行的呢？
首先要知道SSH算法既是非对称加密算法，又是对称加密算法，其运行步骤如下：
- 服务器有一对用于非对称加密的公钥A，私钥A'
- 浏览器请求服务器，服务器将公钥A传输给服务器
- 浏览器随机生成一个用于对称加密的密钥X，用公钥A加密后传给服务器
- 服务器收到消息后用私钥A’解密得到密钥X
- 双方使用秘钥X进行对称加密的通信

其中使用秘钥X通讯有两个原因：
1. 如果服务器使用私钥加密，客户端用公钥解密，因为公钥公开，所以服务器给客户端发消息等同于没有加密
2. 使用对称加密的效率更好，速度更快

而只有这种加密算法并不保险，因为还有可能遭到中间人攻击，所以需要使用数字证书来证明服务器的身份

证书的工作方式如下：

数字证书制作过程：

- CA机构一对用于非对称加密的公钥和私钥 
- CA机构对证书明文数据T进行摘要 
- 对MD5加密后的值用私钥加密，得到数字签名S。 
- 明文和数字签名共同组成了数字证书，并颁发给网站

浏览器验证过程：

- 拿到证书，得到明文T，签名S。 
- 用CA机构的公钥（首先浏览器要信任这个CA机构才会保有他的公钥）对S解密得到S’。 
- 用证书里指明的hash算法对明文T进行hash得到T’。
- 如果S'=T'则说明证书可信