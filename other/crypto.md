# 加密算法
## 对称加密
### DES
DES(Data Encryption Standard)是目前最为流行的加密算法之一。
DES是对称的，也就是说它使用同一个密钥来加密和解密数据。

DES还是一种分组加密算法，该算法每次处理固定长度的数据段，称之为分组。
DES分组的大小是64位，如果加密的数据长度不是64位的倍数，可以按照某种具体的规则来填充位。

从本质上来说，DES的安全性依赖于虚假表象，从密码学的术语来讲就是依赖于“混乱和扩散”的原则。
混乱的目的是为隐藏任何明文同密文、或者密钥之间的关系，
而扩散的目的是使明文中的有效位和密钥一起组成尽可能多的密文。两者结合到一起就使得安全性变得相对较高。

DES算法具体通过对明文进行一系列的排列和替换操作来将其加密。
过程的关键就是从给定的初始密钥中得到16个子密钥的函数。要加密一组明文，
每个子密钥按照顺序（1-16）以一系列的位操作施加于数据上，每个子密钥一次，一共重复16次。
每一次迭代称之为一轮。要对密文进行解密可以采用同样的步骤，只是子密钥是按照逆向的顺序（16-1）对密文进行处理。

### 3DES
三重数据加密算法（英语：Triple Data Encryption Algorithm，缩写为TDEA，Triple DEA），或称3DES（Triple DES），
是一种对称密钥加密块密码，相当于是对每个数据块应用三次资料加密标准（DES）算法。
由于计算机运算能力的增强，原版DES由于密钥长度过低容易被暴力破解；
3DES即是设计用来提供一种相对简单的方法，即通过增加DES的密钥长度来避免类似的攻击，而不是设计一种全新的块密码算法。

### AES
AES的全称是Advanced Encryption Standard，意思是高级加密标准。它的出现主要是为了取代DES加密算法的

AES密码与分组密码Rijndael基本上完全一致，Rijndael分组大小和密钥大小都可以为128位、192位和256位。
然而AES只要求分组大小为128位，因此只有分组长度为128Bit的Rijndael才称为AES算法。
本文只对分组大小128位，密钥长度也为128位的Rijndael算法进行分析。
密钥长度为192位和256位的处理方式和128位的处理方式类似，只不过密钥长度每增加64位，算法的循环次数就增加2轮，
128位循环10轮、192位循环12轮、256位循环14轮。

详细：https://zhuanlan.zhihu.com/p/78913397

## 非对称加密算法
对称加密的一个问题就是必须传递秘钥。保存和传递密钥，就成了最头疼的问题

后来人们认识到，加密和解密可以使用不同的规则，只要这两种规则之间存在某种对应关系即可，这样就避免了直接传递密钥。

非对称加密的步骤
- 乙方生成两把密钥（公钥和私钥）。公钥是公开的，任何人都可以获得，私钥则是保密的。 
- 甲方获取乙方的公钥，然后用它对信息加密。 
- 乙方得到加密后的信息，用私钥解密。

### RSA
1977年，三位数学家Rivest、Shamir 和 Adleman 设计了一种算法，可以实现非对称加密。这种算法用他们三个人的名字命名，叫做RSA算法

RSA算法的秘钥生成步骤：
- 随机选择两个不相等的质数p和q
- 计算p和q的乘积n
- 计算n的欧拉函数φ(n)
- 随机选择一个整数e，条件是1< e < φ(n)，且e与φ(n) 互质
- 计算e对于φ(n)的模反元素d
- 将n和e封装成公钥，n和d封装成私钥。

### TCL（SSL）
SSL代表安全套接层（Secure Sockets Layer），TLS代表传输层安全性（Transport Layer Security）。
TLS实际上是SSL的继承者和升级版本，用于加密和保护在计算机网络上传输的数据。
因此，虽然人们仍然使用SSL这个术语，但在技术上更准确的说法是TLS

HTTPs使用SSL算法加密，那么SSL是如何运行的呢？
首先要知道SSL算法既是非对称加密算法，又是对称加密算法，其运行步骤如下：
- 服务器有一对用于非对称加密的公钥A，私钥A'
- 浏览器请求服务器，服务器将公钥A传输给服务器
- 浏览器随机生成一个用于对称加密的密钥X，用公钥A加密后传给服务器
- 服务器收到消息后用私钥A’解密得到密钥X
- 双方使用秘钥X进行对称加密的通信

其中使用秘钥X通讯有两个原因：
1. 如果服务器使用私钥加密，客户端用公钥解密，因为公钥公开，所以服务器给客户端发消息等同于没有加密
2. 使用对称加密的效率更好，速度更快

而只有这种加密算法并不保险，因为还有可能遭到中间人攻击，所以需要使用数字证书来证明服务器的身份

证书的工作方式如下：

数字证书制作过程：

- CA机构一对用于非对称加密的公钥和私钥 
- CA机构对证书明文数据T进行摘要 
- 对MD5加密后的值用私钥加密，得到数字签名S。 
- 明文和数字签名共同组成了数字证书，并颁发给网站

浏览器验证过程：

- 拿到证书，得到明文T，签名S。 
- 用CA机构的公钥（首先浏览器要信任这个CA机构才会保有他的公钥）对S解密得到S’。 
- 用证书里指明的hash算法对明文T进行hash得到T’。
- 如果S'=T'则说明证书可信

## 摘要算法
### MD5
MD5讯息摘要演算法（英语：MD5 Message-Digest Algorithm），一种被广泛使用的密码杂凑函数，
可以产生出一个128位元（16个字元(BYTES)）的散列值（hash value），用于确保信息传输完整一致。

MD5算法具有以下特点：
1. 压缩性：任意长度的数据，算出的MD5值长度都是固定的。 
2. 容易计算：从原数据计算出MD5值很容易。 
3. 抗修改性：对原数据进行任何改动，哪怕只修改1个字节，所得到的MD5值都有很大区别。 
4. 强抗碰撞：已知原数据和其MD5值，想找到一个具有相同MD5值的数据（即伪造数据）是非常困难的。

MD5加密的步骤如下：
1. 填充，使其位长对512求余的结果等于448
2. 初始化变量，初始的128位值为初试链接变量，这些参数用于第一轮的运算，以大端字节序来表示
3. 处理分组数据

## 附录
### 常见加密算法一览
| 名称   | 对称性 | 特点           | 密钥长度（通常） |
|------|-----|--------------|----------|
| DES  | 对称  | 不够安全         | 56       |
| RSA  | 不对称 | 安全性高，速度慢     | 512      |
| IDEA | 对称  | 速度快，密钥管理复杂困难 | 128      |